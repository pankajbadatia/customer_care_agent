{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/app/agent-traces/components/TraceFilters.tsx"],"sourcesContent":["'use client';\n\nimport { ExecutionStatus } from '../types';\n\ninterface TraceFiltersProps {\n  agent: string;\n  status: ExecutionStatus | 'all';\n  onAgentChange: (value: string) => void;\n  onStatusChange: (value: ExecutionStatus | 'all') => void;\n}\n\n/**\n * TraceFilters\n *\n * Responsibilities:\n * - Render filter controls\n * - Emit filter intent to parent\n * - Own NO state\n */\nexport default function TraceFilters({\n  agent,\n  status,\n  onAgentChange,\n  onStatusChange,\n}: TraceFiltersProps) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        gap: '1rem',\n        marginBottom: '1rem',\n        alignItems: 'center',\n      }}\n    >\n      {/* Agent Filter */}\n      <label>\n        <span style={{ marginRight: '0.25rem', fontSize: '0.85rem' }}>\n          Agent\n        </span>\n        <select\n          value={agent}\n          onChange={(e) => onAgentChange(e.target.value)}\n        >\n          <option value=\"all\">All</option>\n          <option value=\"monitoring-agent\">Monitoring Agent</option>\n          <option value=\"anomaly-agent\">Anomaly Agent</option>\n          <option value=\"root-cause-agent\">Root Cause Agent</option>\n          <option value=\"action-agent\">Action Agent</option>\n          <option value=\"escalation-agent\">Escalation Agent</option>\n        </select>\n      </label>\n\n      {/* Status Filter */}\n      <label>\n        <span style={{ marginRight: '0.25rem', fontSize: '0.85rem' }}>\n          Status\n        </span>\n        <select\n          value={status}\n          onChange={(e) =>\n            onStatusChange(e.target.value as ExecutionStatus | 'all')\n          }\n        >\n          <option value=\"all\">All</option>\n          <option value=\"success\">Success</option>\n          <option value=\"failed\">Failed</option>\n          <option value=\"running\">Running</option>\n        </select>\n      </label>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAmBe,SAAS,aAAa,EACnC,KAAK,EACL,MAAM,EACN,aAAa,EACb,cAAc,EACI;IAClB,qBACE,gRAAC;QACC,OAAO;YACL,SAAS;YACT,KAAK;YACL,cAAc;YACd,YAAY;QACd;;0BAGA,gRAAC;;kCACC,gRAAC;wBAAK,OAAO;4BAAE,aAAa;4BAAW,UAAU;wBAAU;kCAAG;;;;;;kCAG9D,gRAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;0CAE7C,gRAAC;gCAAO,OAAM;0CAAM;;;;;;0CACpB,gRAAC;gCAAO,OAAM;0CAAmB;;;;;;0CACjC,gRAAC;gCAAO,OAAM;0CAAgB;;;;;;0CAC9B,gRAAC;gCAAO,OAAM;0CAAmB;;;;;;0CACjC,gRAAC;gCAAO,OAAM;0CAAe;;;;;;0CAC7B,gRAAC;gCAAO,OAAM;0CAAmB;;;;;;;;;;;;;;;;;;0BAKrC,gRAAC;;kCACC,gRAAC;wBAAK,OAAO;4BAAE,aAAa;4BAAW,UAAU;wBAAU;kCAAG;;;;;;kCAG9D,gRAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IACT,eAAe,EAAE,MAAM,CAAC,KAAK;;0CAG/B,gRAAC;gCAAO,OAAM;0CAAM;;;;;;0CACpB,gRAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,gRAAC;gCAAO,OAAM;0CAAS;;;;;;0CACvB,gRAAC;gCAAO,OAAM;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/app/agent-traces/components/TraceTable.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { AgentTrace } from '../types';\n\ninterface TraceTableProps {\n  traces: AgentTrace[];\n}\n\n/**\n * TraceTable\n *\n * Responsibilities:\n * - Render agent trace list\n * - Provide navigation to trace details\n * - Display execution status clearly\n */\nexport default function TraceTable({ traces }: TraceTableProps) {\n  if (traces.length === 0) {\n    return (\n      <div\n        style={{\n          padding: '1rem',\n          backgroundColor: '#ffffff',\n          border: '1px solid #e2e8f0',\n          borderRadius: '0.5rem',\n          color: '#64748b',\n        }}\n      >\n        No agent traces match the selected filters.\n      </div>\n    );\n  }\n\n  return (\n    <table\n      style={{\n        width: '100%',\n        borderCollapse: 'collapse',\n        backgroundColor: '#ffffff',\n        borderRadius: 8,\n        overflow: 'hidden',\n      }}\n    >\n      <thead>\n        <tr style={{ backgroundColor: '#f1f5f9', textAlign: 'left' }}>\n          <th style={thStyle}>Agent</th>\n          <th style={thStyle}>Status</th>\n          <th style={thStyle}>Duration</th>\n          <th style={thStyle}>Started</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {traces.map((trace) => (\n          <tr\n            key={trace.traceId}\n            style={{ borderBottom: '1px solid #e2e8f0' }}\n          >\n            <td style={tdStyle}>\n              <Link\n                href={`/agent-traces/${trace.traceId}`}\n                style={{\n                  color: '#2563eb',\n                  textDecoration: 'none',\n                  fontWeight: 500,\n                }}\n              >\n                {trace.agentName}\n              </Link>\n            </td>\n\n            <td style={tdStyle}>\n              <StatusBadge status={trace.status} />\n            </td>\n\n            <td style={tdStyle}>{trace.durationMs} ms</td>\n\n\n\n            <td style={tdStyle}>{new Date(trace.startTime).toISOString().slice(0, 19).replace('T', ' ')}\n</td>\n\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\n/* ---------- helpers ---------- */\n\nfunction StatusBadge({ status }: { status: string }) {\n  const color =\n    status === 'success'\n      ? '#16a34a'\n      : status === 'failed'\n      ? '#dc2626'\n      : '#64748b';\n\n  return (\n    <span\n      style={{\n        padding: '0.25rem 0.5rem',\n        borderRadius: 6,\n        fontSize: '0.75rem',\n        fontWeight: 600,\n        color: '#fff',\n        backgroundColor: color,\n        textTransform: 'capitalize',\n      }}\n    >\n      {status}\n    </span>\n  );\n}\n\nconst thStyle: React.CSSProperties = {\n  padding: '0.75rem',\n  fontSize: '0.75rem',\n  fontWeight: 600,\n  color: '#475569',\n};\n\nconst tdStyle: React.CSSProperties = {\n  padding: '0.75rem',\n  fontSize: '0.875rem',\n};\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAiBe,SAAS,WAAW,EAAE,MAAM,EAAmB;IAC5D,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB,qBACE,gRAAC;YACC,OAAO;gBACL,SAAS;gBACT,iBAAiB;gBACjB,QAAQ;gBACR,cAAc;gBACd,OAAO;YACT;sBACD;;;;;;IAIL;IAEA,qBACE,gRAAC;QACC,OAAO;YACL,OAAO;YACP,gBAAgB;YAChB,iBAAiB;YACjB,cAAc;YACd,UAAU;QACZ;;0BAEA,gRAAC;0BACC,cAAA,gRAAC;oBAAG,OAAO;wBAAE,iBAAiB;wBAAW,WAAW;oBAAO;;sCACzD,gRAAC;4BAAG,OAAO;sCAAS;;;;;;sCACpB,gRAAC;4BAAG,OAAO;sCAAS;;;;;;sCACpB,gRAAC;4BAAG,OAAO;sCAAS;;;;;;sCACpB,gRAAC;4BAAG,OAAO;sCAAS;;;;;;;;;;;;;;;;;0BAIxB,gRAAC;0BACE,OAAO,GAAG,CAAC,CAAC,sBACX,gRAAC;wBAEC,OAAO;4BAAE,cAAc;wBAAoB;;0CAE3C,gRAAC;gCAAG,OAAO;0CACT,cAAA,gRAAC,yMAAI;oCACH,MAAM,CAAC,cAAc,EAAE,MAAM,OAAO,EAAE;oCACtC,OAAO;wCACL,OAAO;wCACP,gBAAgB;wCAChB,YAAY;oCACd;8CAEC,MAAM,SAAS;;;;;;;;;;;0CAIpB,gRAAC;gCAAG,OAAO;0CACT,cAAA,gRAAC;oCAAY,QAAQ,MAAM,MAAM;;;;;;;;;;;0CAGnC,gRAAC;gCAAG,OAAO;;oCAAU,MAAM,UAAU;oCAAC;;;;;;;0CAItC,gRAAC;gCAAG,OAAO;0CAAU,IAAI,KAAK,MAAM,SAAS,EAAE,WAAW,GAAG,KAAK,CAAC,GAAG,IAAI,OAAO,CAAC,KAAK;;;;;;;uBAxBlF,MAAM,OAAO;;;;;;;;;;;;;;;;AAgC9B;AAEA,iCAAiC,GAEjC,SAAS,YAAY,EAAE,MAAM,EAAsB;IACjD,MAAM,QACJ,WAAW,YACP,YACA,WAAW,WACX,YACA;IAEN,qBACE,gRAAC;QACC,OAAO;YACL,SAAS;YACT,cAAc;YACd,UAAU;YACV,YAAY;YACZ,OAAO;YACP,iBAAiB;YACjB,eAAe;QACjB;kBAEC;;;;;;AAGP;AAEA,MAAM,UAA+B;IACnC,SAAS;IACT,UAAU;IACV,YAAY;IACZ,OAAO;AACT;AAEA,MAAM,UAA+B;IACnC,SAAS;IACT,UAAU;AACZ"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/app/agent-traces/traces-client.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useState } from 'react';\nimport { AgentTrace, ExecutionStatus } from './types';\nimport TraceFilters from './components/TraceFilters';\nimport TraceTable from './components/TraceTable';\n\ninterface TracesClientProps {\n  initialTraces: AgentTrace[];\n}\n\n/**\n * TracesClient\n *\n * Responsibilities:\n * - Own filter state\n * - Apply filtering logic\n * - Render filters + table\n *\n * This file intentionally contains ALL interactive logic.\n */\nexport default function TracesClient({ initialTraces }: TracesClientProps) {\n  const [agentFilter, setAgentFilter] = useState<string>('all');\n  const [statusFilter, setStatusFilter] =\n    useState<ExecutionStatus | 'all'>('all');\n\n  /**\n   * Apply filters deterministically\n   */\n  const filteredTraces = useMemo(() => {\n    return initialTraces.filter((trace) => {\n      if (agentFilter !== 'all' && trace.agentName !== agentFilter) {\n        return false;\n      }\n\n      if (statusFilter !== 'all' && trace.status !== statusFilter) {\n        return false;\n      }\n\n      return true;\n    });\n  }, [initialTraces, agentFilter, statusFilter]);\n\n  return (\n    <section>\n      {/* Filters */}\n      <TraceFilters\n        agent={agentFilter}\n        status={statusFilter}\n        onAgentChange={setAgentFilter}\n        onStatusChange={setStatusFilter}\n      />\n\n      {/* Table */}\n      <TraceTable traces={filteredTraces} />\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAqBe,SAAS,aAAa,EAAE,aAAa,EAAqB;IACvE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAS;IACvD,MAAM,CAAC,cAAc,gBAAgB,GACnC,IAAA,mPAAQ,EAA0B;IAEpC;;GAEC,GACD,MAAM,iBAAiB,IAAA,kPAAO,EAAC;QAC7B,OAAO,cAAc,MAAM,CAAC,CAAC;YAC3B,IAAI,gBAAgB,SAAS,MAAM,SAAS,KAAK,aAAa;gBAC5D,OAAO;YACT;YAEA,IAAI,iBAAiB,SAAS,MAAM,MAAM,KAAK,cAAc;gBAC3D,OAAO;YACT;YAEA,OAAO;QACT;IACF,GAAG;QAAC;QAAe;QAAa;KAAa;IAE7C,qBACE,gRAAC;;0BAEC,gRAAC,kMAAY;gBACX,OAAO;gBACP,QAAQ;gBACR,eAAe;gBACf,gBAAgB;;;;;;0BAIlB,gRAAC,gMAAU;gBAAC,QAAQ;;;;;;;;;;;;AAG1B"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/shared-ui/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTheme } from \"./Theme\";\n\nexport function ThemeToggle() {\n  const { mode, toggleTheme, tokens } = useTheme();\n\n  return (\n    <button\n      aria-label=\"Toggle theme\"\n      onClick={toggleTheme}\n      style={{\n        border: `1px solid ${tokens.border}`,\n        borderRadius: \"10px\",\n        padding: \"6px 10px\",\n        background: tokens.surfaceAlt,\n        color: tokens.textPrimary,\n        fontSize: \".85rem\",\n        cursor: \"pointer\",\n      }}\n    >\n      {mode === \"light\" ? \"ðŸŒ™ Dark mode\" : \"â˜€ Light mode\"}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,IAAA,8IAAQ;IAE9C,qBACE,gRAAC;QACC,cAAW;QACX,SAAS;QACT,OAAO;YACL,QAAQ,CAAC,UAAU,EAAE,OAAO,MAAM,EAAE;YACpC,cAAc;YACd,SAAS;YACT,YAAY,OAAO,UAAU;YAC7B,OAAO,OAAO,WAAW;YACzB,UAAU;YACV,QAAQ;QACV;kBAEC,SAAS,UAAU,iBAAiB;;;;;;AAG3C"}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/components/AdminSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { ThemeToggle } from \"../../shared-ui/ThemeToggle\";\n\nconst NAV_ITEMS = [\n  { label: \"Dashboard\", href: \"/\" },\n  { label: \"Agent Traces\", href: \"/agent-traces\" },\n  { label: \"System Health\", href: \"/system-health\" },\n  { label: \"LLM Cost\", href: \"/llm-cost\" },\n  { label: \"Configs\", href: \"/configs\" },\n  { label: \"Alerts\", href: \"/alerts\" },\n];\n\nexport default function AdminSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n\n  function handleLogout() {\n    fetch(\n      `${process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8010\"}/auth/logout`,\n      {\n        method: \"POST\",\n        credentials: \"include\",\n      }\n    ).finally(() => {\n      router.replace(\"/login\");\n    });\n  }\n\n  return (\n    <aside\n      style={{\n        width: 250,\n        padding: \"1.25rem 1rem\",\n        borderRight: \"1px solid rgba(148,163,184,.25)\",\n        background: \"#020617\",\n        color: \"#e2e8f0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"1.2rem\",\n      }}\n    >\n      {/* Branding */}\n      <div>\n        <div\n          style={{\n            fontSize: \"1.15rem\",\n            fontWeight: 700,\n            letterSpacing: \".2px\",\n          }}\n        >\n          Admin Control Plane\n        </div>\n        <div\n          style={{\n            fontSize: \".8rem\",\n            opacity: 0.75,\n            marginTop: \".15rem\",\n          }}\n        >\n          System Governance & Observability\n        </div>\n      </div>\n\n      {/* Navigation */}\n      <nav\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \".25rem\",\n        }}\n      >\n        {NAV_ITEMS.map((item) => {\n          const active =\n            pathname === item.href ||\n            (item.href !== \"/\" && pathname.startsWith(item.href));\n\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              style={{\n                padding: \".55rem .75rem\",\n                borderRadius: \"10px\",\n                textDecoration: \"none\",\n                fontSize: \".9rem\",\n                fontWeight: active ? 600 : 400,\n                backgroundColor: active\n                  ? \"rgba(56,189,248,.18)\"\n                  : \"transparent\",\n                color: active ? \"#e0f2fe\" : \"#cbd5f5\",\n                border: active\n                  ? \"1px solid rgba(148,163,184,.5)\"\n                  : \"1px solid transparent\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                gap: \".4rem\",\n              }}\n            >\n              <span>{item.label}</span>\n\n              {active && (\n                <span\n                  style={{\n                    width: 6,\n                    height: 6,\n                    borderRadius: \"50%\",\n                    background: \"#38bdf8\",\n                  }}\n                />\n              )}\n            </Link>\n          );\n        })}\n      </nav>\n\n      {/* Footer Controls */}\n      <div style={{ marginTop: \"auto\" }}>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: \".6rem\",\n            marginBottom: \".75rem\",\n          }}\n        >\n          <ThemeToggle />\n\n          <button\n            onClick={handleLogout}\n            style={{\n              borderRadius: \"8px\",\n              padding: \"6px 10px\",\n              fontSize: \".85rem\",\n              border: \"1px solid rgba(148,163,184,.35)\",\n              background: \"transparent\",\n              color: \"#e2e8f0\",\n              cursor: \"pointer\",\n            }}\n          >\n            Logout\n          </button>\n        </div>\n\n        <div style={{ fontSize: \".75rem\", opacity: 0.7 }}>\n          <div>Role: admin</div>\n          <div>v0.1 Â· Internal</div>\n        </div>\n      </div>\n    </aside>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,YAAY;IAChB;QAAE,OAAO;QAAa,MAAM;IAAI;IAChC;QAAE,OAAO;QAAgB,MAAM;IAAgB;IAC/C;QAAE,OAAO;QAAiB,MAAM;IAAiB;IACjD;QAAE,OAAO;QAAY,MAAM;IAAY;IACvC;QAAE,OAAO;QAAW,MAAM;IAAW;IACrC;QAAE,OAAO;QAAU,MAAM;IAAU;CACpC;AAEc,SAAS;IACtB,MAAM,WAAW,IAAA,mLAAW;IAC5B,MAAM,SAAS,IAAA,iLAAS;IAExB,SAAS;QACP,MACE,GAAG,6DAAwC,wBAAwB,YAAY,CAAC,EAChF;YACE,QAAQ;YACR,aAAa;QACf,GACA,OAAO,CAAC;YACR,OAAO,OAAO,CAAC;QACjB;IACF;IAEA,qBACE,gRAAC;QACC,OAAO;YACL,OAAO;YACP,SAAS;YACT,aAAa;YACb,YAAY;YACZ,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;QACP;;0BAGA,gRAAC;;kCACC,gRAAC;wBACC,OAAO;4BACL,UAAU;4BACV,YAAY;4BACZ,eAAe;wBACjB;kCACD;;;;;;kCAGD,gRAAC;wBACC,OAAO;4BACL,UAAU;4BACV,SAAS;4BACT,WAAW;wBACb;kCACD;;;;;;;;;;;;0BAMH,gRAAC;gBACC,OAAO;oBACL,SAAS;oBACT,eAAe;oBACf,KAAK;gBACP;0BAEC,UAAU,GAAG,CAAC,CAAC;oBACd,MAAM,SACJ,aAAa,KAAK,IAAI,IACrB,KAAK,IAAI,KAAK,OAAO,SAAS,UAAU,CAAC,KAAK,IAAI;oBAErD,qBACE,gRAAC,yMAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,OAAO;4BACL,SAAS;4BACT,cAAc;4BACd,gBAAgB;4BAChB,UAAU;4BACV,YAAY,SAAS,MAAM;4BAC3B,iBAAiB,SACb,yBACA;4BACJ,OAAO,SAAS,YAAY;4BAC5B,QAAQ,SACJ,mCACA;4BACJ,SAAS;4BACT,YAAY;4BACZ,gBAAgB;4BAChB,KAAK;wBACP;;0CAEA,gRAAC;0CAAM,KAAK,KAAK;;;;;;4BAEhB,wBACC,gRAAC;gCACC,OAAO;oCACL,OAAO;oCACP,QAAQ;oCACR,cAAc;oCACd,YAAY;gCACd;;;;;;;uBA9BC,KAAK,IAAI;;;;;gBAmCpB;;;;;;0BAIF,gRAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAO;;kCAC9B,gRAAC;wBACC,OAAO;4BACL,SAAS;4BACT,YAAY;4BACZ,KAAK;4BACL,cAAc;wBAChB;;0CAEA,gRAAC,uJAAW;;;;;0CAEZ,gRAAC;gCACC,SAAS;gCACT,OAAO;oCACL,cAAc;oCACd,SAAS;oCACT,UAAU;oCACV,QAAQ;oCACR,YAAY;oCACZ,OAAO;oCACP,QAAQ;gCACV;0CACD;;;;;;;;;;;;kCAKH,gRAAC;wBAAI,OAAO;4BAAE,UAAU;4BAAU,SAAS;wBAAI;;0CAC7C,gRAAC;0CAAI;;;;;;0CACL,gRAAC;0CAAI;;;;;;;;;;;;;;;;;;;;;;;;AAKf"}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/app/admin-shell.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode, useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport AdminSidebar from \"../components/AdminSidebar\";\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8010\";\n\nexport function AdminShell({ children }: { children: ReactNode }) {\n  const router = useRouter();\n  const [authorized, setAuthorized] = useState<boolean | null>(null);\n\n  useEffect(() => {\n    async function verifySession() {\n      try {\n        const res = await fetch(`${API_BASE}/auth/me`, {\n          credentials: \"include\",\n        });\n\n        if (!res.ok) {\n          router.replace(\"/login\");\n          return;\n        }\n\n        const user = await res.json();\n\n        // must be admin\n        if (user?.role !== \"admin\") {\n          router.replace(\"/login\");\n          return;\n        }\n\n        setAuthorized(true);\n      } catch {\n        router.replace(\"/login\");\n      }\n    }\n\n    verifySession();\n  }, [router]);\n\n  // ðŸš« Avoid flash while verifying\n  if (authorized === null) return null;\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        minHeight: \"100vh\",\n        background: \"#020617\",\n      }}\n    >\n      <AdminSidebar />\n\n      <main\n        style={{\n          flex: 1,\n          padding: \"1.5rem\",\n          background: \"#020617\",\n        }}\n      >\n        {children}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,WACJ,6DAAwC;AAEnC,SAAS,WAAW,EAAE,QAAQ,EAA2B;IAC9D,MAAM,SAAS,IAAA,iLAAS;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,mPAAQ,EAAiB;IAE7D,IAAA,oPAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,QAAQ,CAAC,EAAE;oBAC7C,aAAa;gBACf;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,OAAO,OAAO,CAAC;oBACf;gBACF;gBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,gBAAgB;gBAChB,IAAI,MAAM,SAAS,SAAS;oBAC1B,OAAO,OAAO,CAAC;oBACf;gBACF;gBAEA,cAAc;YAChB,EAAE,OAAM;gBACN,OAAO,OAAO,CAAC;YACjB;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,iCAAiC;IACjC,IAAI,eAAe,MAAM,OAAO;IAEhC,qBACE,gRAAC;QACC,OAAO;YACL,SAAS;YACT,WAAW;YACX,YAAY;QACd;;0BAEA,gRAAC,wKAAY;;;;;0BAEb,gRAAC;gBACC,OAAO;oBACL,MAAM;oBACN,SAAS;oBACT,YAAY;gBACd;0BAEC;;;;;;;;;;;;AAIT"}}]
}