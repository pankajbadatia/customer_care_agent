{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/app/agent-traces/components/SpanTimeline.tsx"],"sourcesContent":["'use client';\n\nimport { AgentSpan } from '../types';\n\ninterface SpanTimelineProps {\n  spans: AgentSpan[];\n}\n\n/**\n * SpanTimeline\n *\n * Responsibilities:\n * - Visualize agent execution as a timeline\n * - Render spans proportionally by duration\n * - Be resilient to empty / partial traces\n */\nexport default function SpanTimeline({ spans }: SpanTimelineProps) {\n  if (!spans || spans.length === 0) {\n    return (\n      <div\n        style={{\n          marginTop: '1rem',\n          padding: '1rem',\n          borderRadius: '0.375rem',\n          backgroundColor: '#f8fafc',\n          color: '#64748b',\n          fontSize: '0.875rem',\n        }}\n      >\n        No execution spans recorded for this trace.\n      </div>\n    );\n  }\n\n  // Normalize spans by start time\n  const ordered = [...spans].sort(\n    (a, b) => a.startTimeMs - b.startTimeMs\n  );\n\n  const traceStart = ordered[0].startTimeMs;\n  const traceEnd = Math.max(\n    ...ordered.map((s) => s.startTimeMs + Math.max(s.durationMs, 0))\n  );\n\n  const totalDuration = Math.max(traceEnd - traceStart, 1); // avoid divide-by-zero\n\n  return (\n    <div style={{ marginTop: '1.25rem' }}>\n      <h3\n        style={{\n          fontSize: '1rem',\n          fontWeight: 600,\n          marginBottom: '0.5rem',\n        }}\n      >\n        Execution Timeline\n      </h3>\n\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n        {ordered.map((span) => {\n          const offsetPct =\n            ((span.startTimeMs - traceStart) / totalDuration) * 100;\n\n          const widthPct =\n            (Math.max(span.durationMs, 0) / totalDuration) * 100;\n\n          const color =\n            span.status === 'success'\n              ? '#16a34a'\n              : span.status === 'failed'\n              ? '#dc2626'\n              : '#64748b';\n\n          return (\n            <div key={span.spanId}>\n              {/* Label */}\n              <div\n                style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  fontSize: '0.8rem',\n                  marginBottom: '0.25rem',\n                }}\n              >\n                <span>{span.name}</span>\n                <span>{span.durationMs} ms</span>\n              </div>\n\n              {/* Timeline bar */}\n              <div\n                style={{\n                  position: 'relative',\n                  height: '0.75rem',\n                  backgroundColor: '#e5e7eb',\n                  borderRadius: '0.375rem',\n                  overflow: 'hidden',\n                }}\n              >\n                <div\n                  style={{\n                    position: 'absolute',\n                    left: `${offsetPct}%`,\n                    width: `${Math.max(widthPct, 0.5)}%`,\n                    height: '100%',\n                    backgroundColor: color,\n                  }}\n                />\n              </div>\n\n              {/* Attributes */}\n              {span.attributes && (\n                <details style={{ marginTop: '0.25rem' }}>\n                  <summary\n                    style={{\n                      fontSize: '0.75rem',\n                      cursor: 'pointer',\n                      color: '#475569',\n                    }}\n                  >\n                    Attributes\n                  </summary>\n                  <pre\n                    style={{\n                      marginTop: '0.25rem',\n                      padding: '0.5rem',\n                      fontSize: '0.7rem',\n                      backgroundColor: '#f8fafc',\n                      borderRadius: '0.25rem',\n                      overflowX: 'auto',\n                    }}\n                  >\n                    {JSON.stringify(span.attributes, null, 2)}\n                  </pre>\n                </details>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAgBe,SAAS,aAAa,EAAE,KAAK,EAAqB;IAC/D,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;QAChC,qBACE,gRAAC;YACC,OAAO;gBACL,WAAW;gBACX,SAAS;gBACT,cAAc;gBACd,iBAAiB;gBACjB,OAAO;gBACP,UAAU;YACZ;sBACD;;;;;;IAIL;IAEA,gCAAgC;IAChC,MAAM,UAAU;WAAI;KAAM,CAAC,IAAI,CAC7B,CAAC,GAAG,IAAM,EAAE,WAAW,GAAG,EAAE,WAAW;IAGzC,MAAM,aAAa,OAAO,CAAC,EAAE,CAAC,WAAW;IACzC,MAAM,WAAW,KAAK,GAAG,IACpB,QAAQ,GAAG,CAAC,CAAC,IAAM,EAAE,WAAW,GAAG,KAAK,GAAG,CAAC,EAAE,UAAU,EAAE;IAG/D,MAAM,gBAAgB,KAAK,GAAG,CAAC,WAAW,YAAY,IAAI,uBAAuB;IAEjF,qBACE,gRAAC;QAAI,OAAO;YAAE,WAAW;QAAU;;0BACjC,gRAAC;gBACC,OAAO;oBACL,UAAU;oBACV,YAAY;oBACZ,cAAc;gBAChB;0BACD;;;;;;0BAID,gRAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,eAAe;oBAAU,KAAK;gBAAU;0BACpE,QAAQ,GAAG,CAAC,CAAC;oBACZ,MAAM,YACJ,AAAC,CAAC,KAAK,WAAW,GAAG,UAAU,IAAI,gBAAiB;oBAEtD,MAAM,WACJ,AAAC,KAAK,GAAG,CAAC,KAAK,UAAU,EAAE,KAAK,gBAAiB;oBAEnD,MAAM,QACJ,KAAK,MAAM,KAAK,YACZ,YACA,KAAK,MAAM,KAAK,WAChB,YACA;oBAEN,qBACE,gRAAC;;0CAEC,gRAAC;gCACC,OAAO;oCACL,SAAS;oCACT,gBAAgB;oCAChB,UAAU;oCACV,cAAc;gCAChB;;kDAEA,gRAAC;kDAAM,KAAK,IAAI;;;;;;kDAChB,gRAAC;;4CAAM,KAAK,UAAU;4CAAC;;;;;;;;;;;;;0CAIzB,gRAAC;gCACC,OAAO;oCACL,UAAU;oCACV,QAAQ;oCACR,iBAAiB;oCACjB,cAAc;oCACd,UAAU;gCACZ;0CAEA,cAAA,gRAAC;oCACC,OAAO;wCACL,UAAU;wCACV,MAAM,GAAG,UAAU,CAAC,CAAC;wCACrB,OAAO,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC;wCACpC,QAAQ;wCACR,iBAAiB;oCACnB;;;;;;;;;;;4BAKH,KAAK,UAAU,kBACd,gRAAC;gCAAQ,OAAO;oCAAE,WAAW;gCAAU;;kDACrC,gRAAC;wCACC,OAAO;4CACL,UAAU;4CACV,QAAQ;4CACR,OAAO;wCACT;kDACD;;;;;;kDAGD,gRAAC;wCACC,OAAO;4CACL,WAAW;4CACX,SAAS;4CACT,UAAU;4CACV,iBAAiB;4CACjB,cAAc;4CACd,WAAW;wCACb;kDAEC,KAAK,SAAS,CAAC,KAAK,UAAU,EAAE,MAAM;;;;;;;;;;;;;uBAzDrC,KAAK,MAAM;;;;;gBA+DzB;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///mnt/a29372f8-b47b-4a57-961a-4c0a75a3a75b/1_customercare/customer-support-ai-control-plane/frontend/admin-dashboard/app/agent-traces/components/TraceDetails.tsx"],"sourcesContent":["'use client';\n\nimport { AgentTraceDetails } from '../types';\nimport SpanTimeline from './SpanTimeline';\n\ninterface TraceDetailsProps {\n  trace: AgentTraceDetails;\n}\n\n/**\n * TraceDetails\n *\n * Responsibilities:\n * - Display trace metadata (agent, status, duration, cost)\n * - Delegate span visualization to SpanTimeline\n * - Stay presentation-only\n */\nexport default function TraceDetails({ trace }: TraceDetailsProps) {\n  return (\n    <section\n      style={{\n        backgroundColor: '#ffffff',\n        border: '1px solid #e2e8f0',\n        borderRadius: '0.5rem',\n        padding: '1.25rem',\n      }}\n    >\n      {/* Header */}\n      <header style={{ marginBottom: '1rem' }}>\n        <h2 style={{ fontSize: '1.25rem', fontWeight: 600 }}>\n          {trace.agentName}\n        </h2>\n\n        <div\n          style={{\n            display: 'flex',\n            gap: '1.25rem',\n            marginTop: '0.5rem',\n            color: '#475569',\n            fontSize: '0.875rem',\n            flexWrap: 'wrap',\n          }}\n        >\n          <span>\n            <strong>Status:</strong>{' '}\n            <StatusBadge status={trace.status} />\n          </span>\n\n          <span>\n            <strong>Duration:</strong> {trace.durationMs} ms\n          </span>\n\n          <span>\n            <strong>Started:</strong>{' '}\n            {new Date(trace.startTime).toLocaleString()}\n          </span>\n\n          {trace.model && (\n            <span>\n              <strong>Model:</strong> {trace.model}\n            </span>\n          )}\n\n          {typeof trace.costUsd === 'number' && (\n            <span>\n              <strong>Cost:</strong> ${trace.costUsd.toFixed(4)}\n            </span>\n          )}\n        </div>\n      </header>\n\n      {/* Timeline */}\n      <SpanTimeline spans={trace.spans} />\n    </section>\n  );\n}\n\n/* ---------- helpers ---------- */\n\nfunction StatusBadge({ status }: { status: string }) {\n  const color =\n    status === 'success'\n      ? '#16a34a'\n      : status === 'failed'\n      ? '#dc2626'\n      : '#64748b';\n\n  return (\n    <span\n      style={{\n        padding: '0.15rem 0.45rem',\n        borderRadius: 6,\n        fontSize: '0.75rem',\n        fontWeight: 600,\n        color: '#ffffff',\n        backgroundColor: color,\n        textTransform: 'capitalize',\n      }}\n    >\n      {status}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAiBe,SAAS,aAAa,EAAE,KAAK,EAAqB;IAC/D,qBACE,gRAAC;QACC,OAAO;YACL,iBAAiB;YACjB,QAAQ;YACR,cAAc;YACd,SAAS;QACX;;0BAGA,gRAAC;gBAAO,OAAO;oBAAE,cAAc;gBAAO;;kCACpC,gRAAC;wBAAG,OAAO;4BAAE,UAAU;4BAAW,YAAY;wBAAI;kCAC/C,MAAM,SAAS;;;;;;kCAGlB,gRAAC;wBACC,OAAO;4BACL,SAAS;4BACT,KAAK;4BACL,WAAW;4BACX,OAAO;4BACP,UAAU;4BACV,UAAU;wBACZ;;0CAEA,gRAAC;;kDACC,gRAAC;kDAAO;;;;;;oCAAiB;kDACzB,gRAAC;wCAAY,QAAQ,MAAM,MAAM;;;;;;;;;;;;0CAGnC,gRAAC;;kDACC,gRAAC;kDAAO;;;;;;oCAAkB;oCAAE,MAAM,UAAU;oCAAC;;;;;;;0CAG/C,gRAAC;;kDACC,gRAAC;kDAAO;;;;;;oCAAkB;oCACzB,IAAI,KAAK,MAAM,SAAS,EAAE,cAAc;;;;;;;4BAG1C,MAAM,KAAK,kBACV,gRAAC;;kDACC,gRAAC;kDAAO;;;;;;oCAAe;oCAAE,MAAM,KAAK;;;;;;;4BAIvC,OAAO,MAAM,OAAO,KAAK,0BACxB,gRAAC;;kDACC,gRAAC;kDAAO;;;;;;oCAAc;oCAAG,MAAM,OAAO,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;0BAOvD,gRAAC,kMAAY;gBAAC,OAAO,MAAM,KAAK;;;;;;;;;;;;AAGtC;AAEA,iCAAiC,GAEjC,SAAS,YAAY,EAAE,MAAM,EAAsB;IACjD,MAAM,QACJ,WAAW,YACP,YACA,WAAW,WACX,YACA;IAEN,qBACE,gRAAC;QACC,OAAO;YACL,SAAS;YACT,cAAc;YACd,UAAU;YACV,YAAY;YACZ,OAAO;YACP,iBAAiB;YACjB,eAAe;QACjB;kBAEC;;;;;;AAGP"}}]
}